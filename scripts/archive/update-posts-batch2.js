require('dotenv').config({ path: '.env.local' });
const Redis = require('ioredis');

const updates = {
    "1765818558551sqdkpvv": {
        title: "Axar Patel Ruled Out: A Massive Blow to India's T20I Campaign in South Africa",
        body: `The Indian cricket team has suffered a significant setback as star all-rounder Axar Patel has been officially ruled out of the remainder of the T20I series against South Africa. Axar, who has been a consistent performer in the shortest format of the game, has been sidelined due to a severe viral illness that has left him physically depleted. The news comes at a critical juncture in the series, with India looking to find their best combinations ahead of the ICC T20 World Cup path.

Axar Patel is not just a bowler or a batter; he is the "glue" that holds the Indian middle order and bowling attack together. His ability to bowl frugal overs in the powerplay while also acting as a destructive finisher with the bat makes him one of the few genuine three-dimensional players in the world. In recent matches, Axar had shown immense maturity, often playing the role of the senior partner in the absence of other veterans. His absence forced the team management to look for immediate alternatives, leading to the call-up of Shahbaz Ahmed.

The medical bulletin from the BCCI confirmed that Axar had been suffering from high-grade fever and body aches for several days. While initial tests were negative for major tropical diseases, the intensity of the illness made it clear that he would not be able to achieve match fitness in time for the final encounters. For an athlete of Axar's caliber, rest and recuperation are paramount, and the team’s medical staff is prioritizing a full recovery to ensure he is available for the packed home season that follows.

This injury creates a tactical vacuum. Axar’s match-up against right-handed batters is legendary, and his low-trajectory deliveries are notoriously difficult to score off on slow surfaces. Captain Suryakumar Yadav will now have to rely on Ravi Bishnoi and the newly inducted Shahbaz to fill that void. Furthermore, Axar’s improved batting has recently allowed India the luxury of playing an extra bowler, a balance that is now under threat.

For Axar, this is a frustrating pause in what has been a stellar year. From match-winning catches to game-changing cameos, he has been everywhere. However, the "Gentleman’s Game" is as much about physical resilience as it is about skill. The cricketing fraternity has sent many well-wishes to the Gujarat all-rounder, hoping to see him back in the blue jersey as soon as possible. The focus now turns to how India adapts to this change and whether they can still overcome the formidable South African side without their premier all-rounder.`
    },
    "1765783509440mveevmi": {
        title: "England Unveils Playing XI for 3rd Ashes Test: A Final Stand for the Three Lions",
        body: `With the Ashes series hanging by a thread, the England and Wales Cricket Board (ECB) has announced a bold and uncompromising Playing XI for the crucial 3rd Test against Australia. Ben Stokes and head coach Brendon McCullum have opted for a balance of experience and raw aggression, clearly signaling that they have no intention of retreating from their 'Bazball' philosophy despite trailing in the series. The selection reflects a desperate but calculated attempt to reclaim momentum on a surface that is expected to favor pace and carry.

The top order remains consistent with Zak Crawley and Ben Duckett, two players who have personified the new-age England approach. While Crawley’s form has been under scrutiny, his ability to take the game away from the opposition in a single session remains his greatest asset. Duckett’s unconventional but effective technique will be tasked with blunting the new-ball threat of Mitchell Starc and Pat Cummins. At number three, Ollie Pope continues his role, looking to anchor the innings and allow the superstars below him to play freely.

The middle order of Joe Root, Harry Brook, and Ben Stokes is undoubtedly the engine room of this team. Root, arguably England’s greatest-ever batter, remains the prize wicket for the Australians. Brook’s explosive nature and Stokes’ legendary ability to produce miracles under pressure are the X-factors that England is banking on. The inclusion of Jamie Smith as the designated wicketkeeper-batter adds further depth, showing England’s commitment to having a long batting lineup that can counter-attack at any stage.

In the bowling department, the comeback of Jofra Archer (if fit) and the inclusion of Josh Tongue and Brydon Carse (or Archer) highlight a shift toward high-velocity pace. England has often been accused of lacking the "extra yard" of pace that the Australians possess, and this XI aims to Rectify that. Archer’s presence alone is enough to put doubt in the minds of the batters, while Josh Tongue’s bounce and Carse’s hustle provide the perfect support to the veteran skill of Archer. Will Jacks also finds a place, providing a secondary spin option and even more batting firepower.

The 3rd Test is more than just a match; it is a battle for English pride. Trailing 2-0 is a daunting position, but this England side has shown in the past that they thrive when their backs are against the wall. The atmosphere at the venue is expected to be electric, with the Barmy Army ready to roar their support for Stokes and his men. The tactical battle between the two captains, Stokes and Cummins, will be a masterclass in leadership and field placement.

If England fails to win here, the Ashes will stay with Australia. The stakes couldn't be higher. Every run, every wicket, and every decision will be analyzed by millions. This XI is England's chosen group of warriors, tasked with turning the tide and keeping the dream of an Ashes comeback alive. As the first ball approaches, the tension is palpable, and the stage is set for a classic encounter in the richest rivalry in world cricket.`
    },
    "1765400072190wmb2wdj": {
        title: "The Era of 'Ro-Ko': Rohit Sharma and Virat Kohli Continue to Reign Supreme in ICC Rankings",
        body: `The International Cricket Council (ICC) recently released a new poster celebrating the top ODI batters in the world, and to the surprise of absolutely no one, the names at the summit remain unchanged: Rohit Sharma and Virat Kohli. Occupying the Number 1 and Number 2 spots respectively, the two Indian icons have created a duopoly in the white-ball format that has lasted for over a decade. This isn't just about current form; it's a testament to a level of consistency that the sport has rarely seen in its long history.

Rohit Sharma, the "Hitman," currently holds the top spot. His evolution from a middle-order prodigy to the world's most feared opening batter is one of the great stories of modern cricket. Rohit’s ability to score daddy hundreds and his unmatched elegance when hitting sixes make him a nightmare for any bowling attack. As a captain, he leads from the front, often sacrificing his own strike rate to give the team a flying start. His reign at the top of the rankings reflects a player who has mastered the art of the 50-over game.

Just behind him is Virat Kohli, the "King." For many, Kohli is the greatest ODI player of all time. His hunger for runs and his legendary chasing ability have set new benchmarks for what is possible in the format. Kohli’s fitness and mental toughness allow him to dominate sessions even when boundaries are hard to come by. Having spent the most weeks as world number one in history, his current number two ranking is less about a dip in form and more about the incredible competition he faces from his own teammate.

The significance of having both Rohit and Kohli at the top cannot be overstated for Indian cricket. They represent a bridge between eras, having won the World Cup in 2011 and continued to push the team toward glory in 2024. Their partnership on the field is a masterclass in rotation of strike and calculated risk-taking. While younger players like Shubman Gill and Rachin Ravindra are rising fast, the gap between the 'Ro-Ko' duo and the rest of the world remains substantial.

What makes their dominance even more impressive is the changing nature of the game. With the advent of T20 cricket, many batters have lost the patience required for ODI success. Rohit and Kohli, however, have adapted perfectly, blending traditional technique with modern-day power. They have survived multiple rule changes, different ball qualities, and the evolving tactics of bowlers worldwide.

As long as these two are at the crease, India remains a favorite in any tournament. The ICC poster is more than just a graphic; it’s a recognition of two legends who are still not done. They continue to inspire a generation of cricketers who dream of matching their numbers and their impact. For fans, it's a privilege to witness this era of dominance, a period that will likely be remembered as the golden age of Indian ODI batting.`
    },
    "176540001560802r4cjm": {
        title: "Shubman Gill Elevated to A+ Category: The Prince of Indian Cricket Claims His Throne",
        body: `In a move that signals a significant shift in the hierarchy of Indian cricket, the BCCI has reportedly elevated Shubman Gill to the prestigious A+ category in the newest annual player contracts. This elite tier, previously reserved only for the direct absolute legends like Rohit Sharma, Virat Kohli, and Jasprit Bumrah, is a recognition of Gill's indispensable role across all three formats of the game. At just 25, Gill has transitioned from a promising youngster to a cornerstone of the national team’s future.

The A+ contract is more than just a financial reward; it is a statement of intent from the selectors. It means the board views Gill as a "certainty" in every squad, regardless of the format or the conditions. Over the past 24 months, Gill has scored centuries in Tests, ODIs, and T20Is, joining a very exclusive club of players. His "Prince" moniker, given by fans and former greats like Sunil Gavaskar, now carries the weight of official expectation.

Gill’s rise has been characterized by an impeccable technique and a calm head on young shoulders. Whether it’s opening the innings in the hostile environments of Australia or anchoring a chase in the spin-friendly tracks of the subcontinent, he has shown an adaptability that is rare for his age. His performance in the 2023 ODI World Cup and his subsequent leadership roles in the IPL have shown that he is ready for the responsibilities that come with being a top-tier athlete.

Beyond his batting, Gill is being groomed as a future captain for the Indian team. Having led the Gujarat Titans with poise and now being integrated into the leadership group of the national side, the A+ contract solidifies his position as a core leader. The BCCI’s investment in Gill is a clear sign that the transition from the older generation to the newer one is well underway. He is the face of the new India—aggressive, technically sound, and commercially incredibly valuable.

The elevation to A+ also puts Gill in a position where he will lead the team's marketing and global branding efforts. As a multi-format star, he is the ideal ambassador for the sport as it looks to expand into new markets like the USA. His popularity among the youth and his clean image make him a favorite for sponsors and fans alike. 

However, with great power comes great pressure. The A+ category means that every failure will be scrutinized even more heavily. Gill will now be expected to deliver match-winning performances on a regular basis, just as Kohli and Rohit have done for years. Fans are eager to see if he can maintain this trajectory and eventually lead India to more ICC trophies. One thing is certain—the Shubman Gill era is officially here, and it’s painted in the vibrant colors of the elite A+ tier.`
    },
    "176539987615608ng5ap": {
        title: "Smriti Mandhana at Amazon Smbhav Summit: Why the Indian Jersey is More Than Just a Motivation",
        body: `"I don't think I love anything more than cricket. Wearing that Indian jersey is the motivation that drives us. You keep all your problems aside, and that thought alone helps you focus on life." These were the words of Smriti Mandhana, the vice-captain of the Indian Women's Cricket Team, speaking at the Amazon Smbhav Summit in New Delhi. Mandhana, an icon for millions of aspiring sportswomen, shared her deeply personal journey and the philosophy that has made her one of the greatest batters in the world.

Mandhana spoke at length about the "madness" for batting that possessed her as a child. While most kids were playing games for fun, Mandhana was obsessed with the technicalities of the stroke play. She recalled how even when others didn't understand her single-minded focus, she always knew she wanted to be a world champion. This clarity of vision has been the hallmark of her career, from her early days in domestic cricket to the high-stakes finals of the World Cups and the WPL.

For Mandhana, the Indian jersey is not just a piece of clothing; it's a sacred responsibility. She described the feeling of walking out to the middle with the tri-color on her chest as a transformative experience. In that moment, personal struggles, injuries, and the pressure of expectations fade into the background. The only thing that remains is the mission to win for the country. This level of dedication has seen her through some of the toughest phases of her career, including the recovery from a major ACL surgery.

The summit, which focuses on entrepreneurship and leadership, found an ideal speaker in Mandhana. Her leadership of the Royal Challengers Bangalore (RCB) in the Women’s Premier League (WPL) has shown that she is as proficient with her tactical mind as she is with her bat. Under her guidance, RCB clinched their first-ever title, proving that her "word champion" dream was never just a fantasy. She emphasized the importance of staying grounded and remembering why one started in the first place—for the pure love of the game.

Mandhana’s speech also touched upon the growing popularity of women's sports in India. She noted that while there is still a long way to go, the recognition and support from the fans and the corporate world are at an all-time high. Events like the Amazon Smbhav Summit provide a platform to discuss these shifts and to inspire the next generation of girls to take up the bat or ball without hesitation.

As Mandhana prepares for the next international assignments, her words remind us that greatness is born out of passion and sustained by a sense of purpose. Her story is a testament to the fact that when you love what you do, and when you do it for something larger than yourself, the results eventually follow. Whether she is scoring a fluent century at Lord's or speaking at a global summit, Smriti Mandhana remains a beacon of excellence and a true champion of Indian cricket.`
    }
};

async function updatePosts() {
    const url = process.env.KV_URL || process.env.REDIS_URL;
    const redis = new Redis(url);
    const data = await redis.get('crictrend:posts');
    if (!data) return;

    let posts = JSON.parse(data);
    let updatedCount = 0;

    posts = posts.map(post => {
        if (updates[post.id]) {
            updatedCount++;
            return {
                ...post,
                title: updates[post.id].title,
                body: updates[post.id].body
            };
        }
        return post;
    });

    await redis.set('crictrend:posts', JSON.stringify(posts));
    console.log(`Successfully updated ${updatedCount} posts.`);
    await redis.quit();
}

updatePosts().catch(console.error);
